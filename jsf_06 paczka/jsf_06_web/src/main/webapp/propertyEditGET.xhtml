<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<f:metadata>
	<f:viewParam name="p" value="#{propertyEditGETBB.property.idProperty}"
		converterMessage="Nieoczekiwany błąd" />
	<f:event type="preRenderView" listener="#{propertyEditGETBB.onLoad()}" />
</f:metadata>

<h:head>
	<meta charset="utf-8" />
	<title>Edycja nieruchomości</title>
</h:head>
<h:body style="background-color: #eee; margin: 0.5em;">

	<p:panel toggleable="true" header="Edycja nieruchomości">
		<h:form rendered="#{propertyEditGETBB.property != null}">
			<h:panelGrid columns="2" cellpadding="5" style="width: 100%;">

				<!-- Adres -->
				<h:outputLabel for="p-address" value="Adres:" />
				<p:inputText id="p-address" value="#{propertyEditGETBB.property.address}"
					required="true" requiredMessage="Podaj adres" />

				<!-- Cena -->
				<h:outputLabel for="p-price" value="Cena:" />
				<p:inputText id="p-price" value="#{propertyEditGETBB.property.price}"
					required="true" requiredMessage="Podaj cenę" />

				<!-- Opis -->
				<h:outputLabel for="p-description" value="Opis:" />
				<p:inputTextarea id="p-description" value="#{propertyEditGETBB.property.description}" 
					rows="4" cols="30" />
			</h:panelGrid>

			<!-- Komunikaty -->
			<p:messages id="msgs" style="margin-top: 1em;" />

			<!-- Przyciski -->
			<div style="margin-top: 1em;">
				<p:commandButton value="Zapisz" action="#{propertyEditGETBB.saveData()}" 
					style="margin-right: 1em;" update="@form" />
				<p:button value="Anuluj" outcome="propertyList" />
			</div>
		</h:form>
	</p:panel>
</h:body>
</html>
